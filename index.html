<!doctype html>
<html lang="ko">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>장기 기보 뷰어</title>
    <link rel="stylesheet" href="./style.css" />
</head>
<body>
    <main class="app">
        <header class="topbar">
            <div class="brand">
                <div class="brand__title">장기 기보 뷰어</div>
                <div class="brand__sub" id="subtitle">URL 파라미터로 기보를 불러옵니다</div>
            </div>
            <button class="btn btn--ghost" id="btnReload" type="button" title="URL 파라미터 다시 읽기">
                새로고침
            </button>
        </header>

        <section class="stage">
            <div class="boardCard">
                <div class="boardWrap" id="boardWrap" aria-label="장기판">
                    <!-- 보드(선/텍스트) -->
                    <svg class="boardSvg" id="boardSvg" viewBox="0 0 1000 1100" aria-hidden="true">
                        <!-- wood background is done via CSS on .boardWrap -->
                        <defs>
                            <filter id="shadowSoft" x="-20%" y="-20%" width="140%" height="140%">
                                <feDropShadow dx="0" dy="8" stdDeviation="10" flood-opacity="0.22" />
                            </filter>
                        </defs>

                        <!-- inner frame -->
                        <rect id="frameRect" x="70" y="70" width="860" height="960" rx="24" ry="24" class="boardFrame" filter="url(#shadowSoft)"></rect>

                        <!-- grid + palace are drawn by JS by updating lines/labels using this svg -->
                        <g id="gridLayer"></g>
                        <g id="labelLayer"></g>
                    </svg>

                    <!-- 하이라이트(말 아래) -->
                    <div class="hlLayer" id="hlLayer" aria-hidden="true">
                        <div class="hlDot" id="hlFrom" hidden></div>
                        <div class="hlDot" id="hlTo" hidden></div>
                    </div>

                    <!-- 말 레이어 -->
                    <div class="pieceLayer" id="pieceLayer" aria-label="기물"></div>
                </div>

                <div class="panel">
                    <div class="controls" role="group" aria-label="재생 컨트롤">
                        <button class="btn" id="btnFirst" type="button" title="맨앞">⏮</button>
                        <button class="btn" id="btnPrev" type="button" title="뒤로">⏪</button>
                        <button class="btn" id="btnNext" type="button" title="앞으로">⏩</button>
                        <button class="btn" id="btnLast" type="button" title="맨뒤">⏭</button>
                    </div>

                    <div class="status">
                        <div class="status__row">
                            <span class="pill" id="plyPill">0/0</span>
                            <span class="mono" id="moveText">-</span>
                        </div>
                        <div class="status__row">
                            <span class="badge" id="endBadge" hidden></span>
                            <span class="hint" id="hintText">예: ?sp=44&pgn=e5d5e6d6&end=white-checkmate</span>
                        </div>
                    </div>

                    <div class="msg" id="msgBox" hidden></div>
                </div>
            </div>
        </section>

        <footer class="footer">
            <span class="footer__muted">Pure HTML/CSS/JS · GitHub Pages 배포용</span>
        </footer>
    </main>

    <script src="./main.js"></script>
</body>
</html>
